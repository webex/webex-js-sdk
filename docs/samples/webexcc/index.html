<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Webex JavaScript SDK Sample: Meetings Plugin</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/light.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="./style.css" />
</head>

<body>
  <!-- Expand and Collapse -->
  <div class="box global-toggle-btn-wrapper">
    <button onclick="expandAll()" class="global-toggle-btn" title="Expand all">
      <div style="display: flex; align-items: center; gap: 0.5rem;">
        <div style="display: flex; flex-direction: column;">
          <i class="g-arrow fa fa-angle-up" aria-hidden="true"></i>
          <i class="g-arrow fa fa-angle-down" aria-hidden="true" style="margin-top: -6px;"></i>
        </div>
        <div>EXPAND ALL</div>
      </div>
    </button>

    <button onclick="collapseAll()" class="global-toggle-btn" title="Collapse all">
      <div style="display: flex; align-items: center; gap: 0.5rem;">
        <div style="display: flex; flex-direction: column;">
          <i class="g-arrow fa fa-angle-down" aria-hidden="true"></i>
          <i class="g-arrow fa fa-angle-up" aria-hidden="true" style="margin-top: -8px;"></i>
        </div>
        <div>COLLAPSE ALL</div>
      </div>
    </button>
  </div>

  <!-- Webex CC / authentication-credentials -->
  <div class="box">
    <section class="section-box">
      <h2 class="collapsible">
        Auth & Registration
        <i class="arrow fa fa-angle-up" aria-hidden="true"></i>
      </h2>

      <div class="section-content">
        <div>
          <select name="auth-type" id="auth-type" onchange="changeAuthType()">
            <option value="accessToken">Access Token</option>
            <option value="oauth">OAuth</option>
          </select>
        </div>

        <fieldset>
          <legend>Authentication</legend>

          <div style="display: flex; justify-content: space-between;">
            <div>
              <legend>Environment</legend>
              <input type="checkbox" id="integration-env">
              <label for="integration-env">Enable Integration Environment</label><br>
            </div>
          </div>


          <form id="credentials">
            <p class="note">
              NOTE: Click <a href="https://developer.webex.com/docs/getting-started" target="_blank">here</a> for
              access token
            </p>
            <div>
              <input id="access-token" name="accessToken" placeholder="Access Token" value="" type="text">
              <button id="access-token-save" class="btn-code" type="submit">webex.init()</button>
              <p id="access-token-status" class="status-par">Not initialized</p>
            </div>
          </form>

          <form id="oauth" class="hidden">
            <div>
              <button id="oauth-login-btn" type="submit" class="btn-code">Login</button>
              <p id="oauth-status" class="status-par">Not Logged In.</p>
            </div>
          </form>
        </fieldset>

        <!-- <form id="streams">
          <fieldset>
            <legend>Registration</legend>
            <p class="note">
              NOTE: WebexCC JS SDK must be registered as a device.
            </p>
            <div class="u-mv">
              <button id="registration-register" type="button" onclick="register()" disabled=""
                class="btn-code">Register Device</button>
              <button id="registration-unregister" type="button" onclick="unregister()" disabled=""
                class="btn-code">Unregister Device</button>
              <p id="registration-status" class="status-par">Not Registered</p>
            </div>
          </fieldset>
        </form> -->
      </div>
  </div>
  </section>
  </div>

  <div class="box">
    <section class="section-box">
      <h2 class="collapsible">
        Agent Desktop Using Webex CC SDK
        <i class="arrow fa fa-angle-down" aria-hidden="true"></i>
      </h2>

      <div class="section-content">
        <fieldset>
          <legend>Agent</legend>
          <p class="note">
            NOTE: Fetch Teams and select team before agent Login.
          </p>
          <div class="screenshare-section">
            <div style="display: flex; gap: 1rem;">
              <fieldset style="flex: 0.69;">
                <legend>Select Team</legend>
                <button id="fetchTeams" class="btn btn-primary my-3" onclick="getTeams()">Fetch Teams</button>
                <select id="teamsDropdown" class="form-control w-auto my-3">Teams</select>
              </fieldset>
              <fieldset>
                <legend>Agent Login</legend>
                <select name="AgentLogin" id="AgentLogin" class="AgentLogin" onchange="handleAgentLogin(event)">
                  <option value="" selected hidden>Choose Agent Login ...</option>
                  <option value="Dial Number">Dial Number</option>
                  <option value="Extension">Extension</option>
                  <option value="Desktop">Desktop</option>
                </select>
                <button id="loginAgent" disabled class="btn btn-primary my-3" onclick="loginAgentWithSelectedTeam()">Login With
                  Selected Team</button>
                <button id="logoutAgent" class="btn btn-primary my-3 ml-2" onclick="logoutAgent()">Logout Agent</button>
              </fieldset>
              <fieldset>
                <legend>Agent status</legend>
                <select id="statusDropdown" class="form-control w-auto my-3"></select>
                <button id="setAgentStatus" class="btn btn-primary my-3 ml-2" onclick="setAgentStatus()">set
                  sate</button>
              </fieldset>
            </div>
          </div>
        </fieldset>
      </div>
    </section>
  </div>

       <!-- calling / incoming -->
       <div id="incomingsection">
        <fieldset>
          <legend>Incoming Call</legend>
          <div class="u-mv">
            <button onclick="answer()" disabled="" id="answer" class="btn--green">Answer</button>
            <button onclick="endCall()" disabled="" id="end" class="btn--red">Decline</button>
          </div>
        </fieldset>
      </div>

      <div id="agentcontrols">
        <fieldset>
          <legend>Agent Call Controls</legend>
          <div class="u-mv">
            <button onclick="holdResume()" disabled="" id="hold-resume" class="btn--green">Hold</button>
            <button onclick="consult()" disabled="" id="consult" class="btn--green">Consult</button>
            <button onclick="transfer()" disabled="" id="transfer" class="btn--green">Transfer</button>
            <button onclick="pauseRecording()" disabled="" id="recording" class="btn--green">Pause Recording</button>
            <button onclick="wrapUp()" disabled="" id="wrapup" class="btn--green">Wrap Up</button>
          </div>
        </fieldset>
      </div>

  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js"></script>
  <script src="../webex.min.js"></script>
  <script src="../calling.min.js"></script>
  <script src="app.js"></script>
</body>

</html>