<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Sample: Meetings</title>
    <style>
      body {
        background-color: #eee;
        font-family: sans-serif;
      }

      section {
        background-color: #fff;
        padding: 1rem;
        margin: 1rem;
      }

      .flex {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
      }

      label {
        font-size: 0.8rem;
        margin-left: 0.2rem;
      }

      label:first-child {
        margin-left: 0;
      }

      video {
        height: 20vh;
      }
    </style>
  </head>
  <body>
    <h1>THIS IS A WORK IN PROGRESS SAMPLE</h1>
    <section>
      <h2>Meetings</h2>
      <p>This is the meetings plugin sample for the Webex JS SDK.</p>
      <p>Each of the following sections within this sample perform specific actions that map to methods in the meetings plugin of the Webex JS SDK.</p>
      <p>To find the exact logic performed by an action, please inspect the browser's developer console. We log in the console functions in this application that performs the selected action within the <code>./app.js</code> file.</p>
    </section>

    <section>
      <h2>Authentication</h2>
      <p>Before using the meetings functionality of the Webex JS SDK, the Webex JS SDK must be initialized using a valid token.</p>
      <p>You may get test access token from our developer portal: <a href="https://developer.webex.com/docs/api/getting-started" target="_blank">https://developer.webex.com/docs/api/getting-started</a>.</p>
      <p>Once the JS SDK is has authenticated your token, it then must be registered as a device. Once these two steps have been performed, the meetings functionality of the Webex JS SDK should be available for usage.</p>

      <form id="credentials">
        <fieldset>
          <legend>Credentials</legend>
          <input id="access-token" name="accessToken" placeholder="Access Token" value="" type="text" />
          <button id="access-token-save" type="button" onclick="initWebex()">Webex.init()</button>
          <label id="access-token-status"></label>
        </fieldset>
      </form>

      <br />

      <form>
        <fieldset>
          <legend>Registration</legend>
          <button id="registration-register" type="button" onclick="register()" disabled>webex.meetings.register()</button>
          <button id="registration-unregister" type="button" onclick="unregister()" disabled>webex.meetings.unregister()</button>
          <label id="registration-status">Not Registered</label>
        </fieldset>
      </form>
    </section>

    <section>
      <h2>Meetings Management</h2>
      <form id="meetings-create">
        <fieldset>
          <legend>Create a Meeting</legend>
          <input id="create-meeting-destination" name="createMeetingDestination" placeholder="Destination" value="" type="text" />
          <button id="create-meeting-action" type="button" onclick="createMeeting()">webex.meetings.create()</button>
        </fieldset>
      </form>

      <br />

      <form id="meetings-list-group">
        <fieldset>
          <legend>Current Meetings List</legend>
          <div>
            <select id="meetings-join-device">
              <option value="[[MEETINGS DEVICE IDENTIFIER]]">[[MEETINGS DEVICE IDENTIFIER]]</option>
              <option value="[[MEETINGS DEVICE IDENTIFIER]]">[[MEETINGS DEVICE IDENTIFIER]]</option>
              <option value="[[MEETINGS DEVICE IDENTIFIER]]">[[MEETINGS DEVICE IDENTIFIER]]</option>
            </select>
            <input id="meetings-join-pin" name="createMeetingHostpin" placeholder="PIN" value="" type="text" />
            <input id="meetings-join-moderator" type="checkbox" />
            <label>Join as Moderator</label>
          </div>
          <br />
          <div id="meetings-list">There are currently no meetings to display</div>
          <br />
          <button id="meetings-list-collect" type="button" onclick="collectMeetings()">webex.meetings.syncMeetings()</button>
        </fieldset>
      </form>

      <br />

      <form id="current-meeting">
        <fieldset>
          <legend>Current Joined Meeting</legend>
          <button id="meetings-add-media" type="button" onclick="addMedia()">meeting.addMedia()</button>
          <button id="meetings-leave" type="button" onclick="leaveMeeting()">meeting.leave()</button>
          <label id="meetings-current-details">Not currently in a meeting</label>
        </fieldset>
      </form>
    </section>

    <section>
      <h2>Meeting Controls</h2>
      <p>Once in a meeting utilize these controls to manipulate the meeting.</p>
      <p>Please note that you must be a meeting moderator in order to lock or record a meeting.</p>
      <form id="general-controls">
        <fieldset>
          <legend>General Controls</legend>
          <div>
            <button id="gc-lock" type="button" onclick="lockMeeting()">Lock Meeting</button>
            <button id="gc-unlock" type="button" onclick="unlockMeeting()">Unlock Meeting</button>
            <label id="gc-lock-status"></label>
          </div>
          <div>
            <button id="gc-start-recording" type="button" onclick="startRecording()">Start Recording</button>
            <button id="gc-pause-recording" type="button" onclick="pauseRecording()">Pause Recording</button>
            <button id="gc-stop-recording" type="button" onclick="stopRecording()">Stop Recording</button>
            <label id="gc-recording-status"></label>
          </div>
          <div>
            <input id="gc-dtmf-tones" name="dtmfTones" placeholder="Enter DTMF tones" value="" type="text" />
            <button id="gc-dtmf-tones-send" type="button" onclick="sendDtmfTones()">Send</button>
            <label id="gc-dtmf-status"></label>
          </div>
        </fieldset>
      </form>

      <br />

      <form id="source-devices-controls">
        <fieldset>
          <legend>Source Devices</legend>
          <div>
            <select id="audio-input-devices">
              <option value="DEVICEA">Device A</option>
              <option value="DEVICEB">Device B</option>
              <option value="DEVICEC">Device C</option>
            </select>
            <button id="set-audio-input-device" type="button">Set Audio Input Device</button>
            <label id="audio-input-device">[[CURRENT AUDIO INPUT DEVICE]]</label>
          </div>
          <div>
            <select id="audio-output-devices">
              <option value="DEVICEA">Device A</option>
              <option value="DEVICEB">Device B</option>
              <option value="DEVICEC">Device C</option>
            </select>
            <button id="set-audio-output-device" type="button">Set Audio Output Device</button>
            <label id="audio-output-device">[[CURRENT AUDIO OUTPUT DEVICE]]</label>
          </div>
          <div>
            <select id="video-input-devices">
              <option value="DEVICEA">Device A</option>
              <option value="DEVICEB">Device B</option>
              <option value="DEVICEC">Device C</option>
            </select>
            <button id="set-video-input-device" type="button">Set Video Input Device</button>
            <label id="video-input-device">[[CURRENT VIDEO INPUT DEVICE]]</label>
          </div>
        </fieldset>
      </form>

      <br />

      <form id="sending-sources-controls">
        <fieldset>
          <legend>Sending Sources</legend>
          <div>
            <button id="source-controls-send-audio" type="button">Toggle Sending Audio</button>
            <label id="source-controls-sending-audio">[[SENDING AUDIO STATE]]</label>
          </div>
          <div>
            <button id="source-controls-send-video" type="button">Toggle Sending Video</button>
            <label id="source-controls-sending-video">[[SENDING VIDEO STATE]]</label>
          </div>
          <div>
            <button id="source-controls-send-screenshare" type="button">Toggle Sending Screenshare</button>
            <label id="source-controls-sending-screenshare">[[SENDING SCREENSHARE STATE]]</label>
          </div>
          <div>
            <select id="source-controls-sending-qualities">
              <option value="LOW">Low</option>
              <option value="MEDIUM">Medium</option>
              <option value="HIGH">High</option>
            </select>
            <button id="source-controls-set-sending-quality" type="button">Set Quality</button>
            <label id="source-controls-sending-quality">[[SENDING QUALITY STATE]]</label>
          </div>
        </fieldset>
      </form>

      <br />

      <form id="receiving-sources-controls">
        <fieldset>
          <legend>Receiving Sources</legend>
          <div>
            <button id="source-controls-receive-audio" type="button">Toggle Receiving Audio</button>
            <label id="source-controls-receiving-audio">[[RECEIVING AUDIO STATE]]</label>
          </div>
          <div>
            <button id="source-controls-receive-video" type="button">Toggle Receiving Video</button>
            <label id="source-controls-receiving-video">[[RECEIVING VIDEO STATE]]</label>
          </div>
          <div>
            <select id="source-controls-receiving-qualities">
              <option value="LOW">Low</option>
              <option value="MEDIUM">Medium</option>
              <option value="HIGH">High</option>
            </select>
            <button id="source-controls-set-receiving-quality" type="button">Set Quality</button>
            <label id="source-controls-receiving-quality">[[RECEIVING QUALITY STATE]]</label>
          </div>
        </fieldset>
      </form>

      <br />

      <form id="participants">
        <fieldset>
          <legend>Participants</legend>
          <div>
            <input id="add-participant-query" name="participantQuery" placeholder="Email Address" value="" type="email" />
            <button id="add-participant" type="button">Add</button>
          </div>
          <br />
          <div>
            <button id="participant-a-admit" type="button" value="[[PARTICIPANT ID]]">Admit</button>
            <button id="participant-a-remove" type="button" value="[[PARTICIPANT ID]]">Remove</button>
            <button id="participant-a-mute" type="button" value="[[PARTICIPANT ID]]">Mute</button>
            <button id="participant-a-transfer-ownership" type="button" value="[[PARTICIPANT ID]]">Transfer Ownership To</button>
            <label id="participant-a-id">[[PARTICIPANT ID]]</label>
            <label id="participant-a-status">[[PARTICIPANT STATUS]]</label>
            <label id="participant-a-name">[[PARTICIPANT NAME]]</label>
          </div>
          <div>
            <button id="participant-b-admit" type="button" value="[[PARTICIPANT ID]]">Admit</button>
            <button id="participant-b-remove" type="button" value="[[PARTICIPANT ID]]">Remove</button>
            <button id="participant-b-mute" type="button" value="[[PARTICIPANT ID]]">Mute</button>
            <button id="participant-b-transfer-ownership" type="button" value="[[PARTICIPANT ID]]">Transfer Ownership To</button>
            <label id="participant-b-id">[[PARTICIPANT ID]]</label>
            <label id="participant-b-status">[[PARTICIPANT STATUS]]</label>
            <label id="participant-b-name">[[PARTICIPANT NAME]]</label>
          </div>
          <div>
            <button id="participant-c-admit" type="button" value="[[PARTICIPANT ID]]">Admit</button>
            <button id="participant-c-remove" type="button" value="[[PARTICIPANT ID]]">Remove</button>
            <button id="participant-c-mute" type="button" value="[[PARTICIPANT ID]]">Mute</button>
            <button id="participant-c-transfer-ownership" type="button" value="[[PARTICIPANT ID]]">Transfer Ownership To</button>
            <label id="participant-c-id">[[PARTICIPANT ID]]</label>
            <label id="participant-c-status">[[PARTICIPANT STATUS]]</label>
            <label id="participant-c-name">[[PARTICIPANT NAME]]</label>
          </div>
          <br />
          <button id="participants-update" type="button">Update Participants</button>
        </fieldset>
      </form>
    </section>

    <section>
      <h2>Meetings Devices</h2>
      <p>[[MEETINGS DEVICES DESCRIPTION]]</p>
      <form id="current-device">
        <fieldset>
          <legend>Current Device</legend>
          <label>[[CURRENT DEVICE IDENTIFIER && DETAILS]]</label>
        </fieldset>
      </form>

      <br />

      <form id="devices-list">
        <fieldset>
          <legend>Current Devices List</legend>
          <div>
            <button id="devices-select-a" type="button" value="[[DEVICE IDENTIFIER]]">Select</button>
            <button id="devices-remove-a" type="button" value="[[DEVICE IDENTIFIER]]">Remove</button>
            <label>[[DEVICE IDENTIFIER]]</label>
          </div>
          <div>
            <button id="devices-select-b" type="button" value="[[DEVICE IDENTIFIER]]">Select</button>
            <button id="devices-remove-b" type="button" value="[[DEVICE IDENTIFIER]]">Remove</button>
            <label>[[DEVICE IDENTIFIER]]</label>
          </div>
          <div>
            <button id="devices-select-c" type="button" value="[[DEVICE IDENTIFIER]]">Select</button>
            <button id="devices-remove-c" type="button" value="[[DEVICE IDENTIFIER]]">Remove</button>
            <label>[[DEVICE IDENTIFIER]]</label>
          </div>
        </fieldset>
      </form>

      <br />

      <form id="find-devices">
        <fieldset>
          <legend>Find Devices</legend>
          <div>
            <input id="find-devices-query" name="searchQuery" placeholder="Device ID" value="" type="text" />
            <button id="find-devices-action" type="button">Search</button>
          </div>
          <br />
          <div>
            <button id="found-device-a-select" type="button" value="[[DEVICE IDENTIFIER]]">Select</button>
            <button id="found-device-a-send-pin" type="button" value="[[DEVICE IDENTIFIER]]">Send Pin</button>
            <input id="found-device-a-pin" name="devicePin" placeholder="Device Pin" value="" type="text" />
            <label>[[DEVICE IDENTIFIER]]</label>
          </div>
          <div>
            <button id="found-device-b-select" type="button" value="[[DEVICE IDENTIFIER]]">Select</button>
            <button id="found-device-b-send-pin" type="button" value="[[DEVICE IDENTIFIER]]">Send Pin</button>
            <input id="found-device-b-pin" name="devicePin" placeholder="Device Pin" value="" type="text" />
            <label>[[DEVICE IDENTIFIER]]</label>
          </div>
          <div>
            <button id="found-device-c-select" type="button" value="[[DEVICE IDENTIFIER]]">Select</button>
            <button id="found-device-c-send-pin" type="button" value="[[DEVICE IDENTIFIER]]">Send Pin</button>
            <input id="found-device-c-pin" name="devicePin" placeholder="Device Pin" value="" type="text" />
            <label>[[DEVICE IDENTIFIER]]</label>
          </div>
        </fieldset>
      </form>

      <br />

      <form id="pmr-management">
        <fieldset>
          <legend>Personal Meeting Room</legend>
          <input id="prm-id" name="PmrId" placeholder="PMR ID" value="" type="text" />
          <input id="prm-pin" name="prmPin" placeholder="PMR PIN" value="" type="text" />
          <button id="pmr-claim" type="button">Claim</button>
          <p id="pmr-details">[[PERSONAL MEETING ROOM DETAILS]]</p>
        </fieldset>
      </form>
    </section>
    
    <section>
      <h2>Meeting Streams</h2>
      <form id="streams">
        <div class="flex">
          <fieldset>
            <legend>Local Video</legend>
            <video id="local-video"></video>
          </fieldset>

          <fieldset>
            <legend>Local Screenshare</legend>
            <video id="local-screenshare"></video>
          </fieldset>

          <fieldset>
            <legend>Remote Video</legend>
            <video id="remote-video"></video>
          </fieldset>

          <fieldset>
            <legend>Remote Screenshare</legend>
            <video id="remote-screenshare"></video>
          </fieldset>
        </div>
      </form>
    </section>

    <script src="/webex.min.js"></script>
    <!-- app.js is your application code -->
    <script src="app.js"></script>

  </body>
</html>
