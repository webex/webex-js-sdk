<!DOCTYPE html>
<html>
  <head>
    <title>Sample: Read Status</title>
    <link rel="stylesheet" href="https://unpkg.com/spectre.css/dist/spectre.min.css">
  </head>
  <body>
    <div class="container">
      <div class="columns">
        <div class="column col-12">
          <div id=header-one><h1>Read Status</h1></div>

          <div id=initial-login>
            <h2>Monitor who has read messages in a user's Webex Teams spaces</h2>

            <p>Initialize the SDK with <a target="_blank" href="https://developer.webex.com/docs/api/getting-started">Your Personal Access Token</a>.</p>
            <form class="form-group" id="credentials">
              <fieldset>
                <label class="form-label" for="access-token">Your Personal Access Token</label>
                <input
                  class="column col-8"
                  id="access-token"
                  name="accessToken"
                  placeholder="Your Personal Access Token"
                  type="text" />
                <button class="btn" id="connect" title="connect" type="submit">Initialize</button>
              </fieldset>
              <p class="label label-warning" id="connection-status">not initialized
                <div id='initializing-message'></div>
              </p>
            </form>
          </div>

          <div id=space-status style="display:none">
            <style>
              table, th, td {
                border: 1px solid black;
                border-collapse: collapse;
              }
              th, td {
                padding: 5px;
              }
            </style>
                
            <center>
              <p></p>
            
              <table style="width:100%">
                <tr>
                  <th colspan="3">Spaces</th>
                  <th colspan="2">Other Member's Read Status</th>
                </tr>
                <tr style="font-weight:bold">
                  <td></td>
                  <td>Count</td>
                  <td>Most Recent Title</td>
                  <td>Caught Up</td>
                  <td>Behind</td>
                </tr>
                <tr>
                  <td style="font-weight:bold">Caught Up</td>
                  <td><div id='read-count'></div></td>
                  <td><div id='last-read-space-title'></div></td>
                  <td><div id='last-read-space-current-members'></div></td>
                  <td><div id='last-read-space-behind-members'></div></td>
                </tr>
                <tr>
                  <td style="font-weight:bold">Behind</td>
                  <td><div id='unread-count'></div></td>
                  <td><div id='last-unread-space-title'></div></td>
                  <td><div id='last-unread-space-current-members'></div></td>
                  <td><div id='last-unread-space-behind-members'></div></td>
                </tr>
              </table>
            
              <p></p>
              <b>Most recent memberships:seen (read receipt) event:</b>
              <table style="width:100%">
                <tr>
                  <th>Time</th>
                  <th>Member</th>
                  <th>Space</th>
                  <th>Message ID</th>
                </tr>
                <tr>
                  <td><div id='membership-seen-time'></div></td>
                  <td><div id='membership-seen-user'></div></td>
                  <td><div id='membership-seen-space'></div></td>
                  <td><div id='membership-seen-message'></div></td>  
                </tr>
              </table>
              <div id='initializing-membership'>Open a space with unread messages in Webex Teams to generate a read receipt</div>

            
              <p></p>
              <b>Most recent messages:created event:</b>
              <table style="width:100%">
                <tr>
                  <th>Time</th>
                  <th>Author</th>
                  <th>Space</th>
                  <th>Message</th>
                </tr>
                <tr>
                  <td><div id='message-sent-time'></div></td>
                  <td><div id='message-author'></div></td>
                  <td><div id='message-space'></div></td>
                  <td><div id='message'></div></td>  
                </tr>
              </table>
              <div id='pre-message'>Send a message in a Webex Teams client to generate message activity</div>
              <div id='mark-as-read-button-form'>
                <form class="form-group" id="mark-as-read">
                  <fieldset>
                    <button class="btn" style="display: none;" id="mark-as-read-button" title="mark-as-read-button" type="submit">Mark as Read</button>
                  </fieldset>
                </form>
              </div>
              
            </center>  
            
            <a href="./explanation.html" target="_blank">What's happening in this demo?</a> 
          </div>

        </div>
      </div>
    </div>
    <!-- /bundle.js is the bundled CiscoSpark JavaScript SDK -->
    <script src="/bundle.js"></script>
    <!-- app.js is your application code -->
    <script src="app.js"></script>
  </body>
</html>
